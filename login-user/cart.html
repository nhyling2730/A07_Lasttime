<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/fontawesome-free-6.6.0-web/css/all.min.css">
    <link rel="stylesheet" href="../css/cart.css">
    <link rel="stylesheet" href="../bootstrap-5.0.2-dist/css/bootstrap.min.css">
    <title>Giỏ Hàng</title>
</head>

<body>
    <header>
        <div class="toggle">
            <i class="fa-solid fa-bars"></i>
            <i class="fa-solid fa-xmark"></i>
        </div>
        <a href="../index.html" class="logo">
            <img src="../image/logo.png">
        </a>
        <nav class="nav-menu" id="home">
            <ul>
                <li class="active"><a href="#"><i class="fa-solid fa-house-chimney"></i>Trang chủ</a></li>
                <li class="dropdown">
                    <a href="#" id="menu-toggle"><i class="fa-solid fa-caret-down"></i>Thực đơn</a>
                    <ul class="sub-menu">
                        <li><a href="#"><span>Cà phê phin</span></a></li>
                        <li><a href="#"><span>Phindi</span></a></li>
                        <li><a href="#"><span>Freeze</span></a></li>
                        <li><a href="#"><span>Trà</span></a></li>
                    </ul>
                </li>
                <li><a href="./user/news.html"><i class="fa-solid fa-newspaper"></i>Tin tức</a></li>
                <li><a href="./user/introduce.html"><i class="fa-solid fa-users-line"></i>Giới thiệu</a></li>
                <li><a href="./user/contact.html"><i class="fa-solid fa-phone"></i>Liên hệ</a></li>
            </ul>
        </nav>
        <!-- SEARCH -->
        <div class="icon">
            <div class="searchToggle">
                <i class="fa-solid fa-x cancel"></i>
                <i class="fa-solid fa-magnifying-glass search"></i>
            </div>
            <div class="searchBox">
                <form class="search-form" action="./user/search.html" method="get">
                    <ul class="search-bar">
                        <li class="dropdown-bar1">
                            <div id="drop-text" class="dropdown-text">
                                <span id="span">Tất cả</span>
                                <i id="icon" class="fa-solid fa-chevron-down"></i>
                            </div>
                            <ul id="list" class="dropdown-list">
                                <li class="dropdown-list-item">Tất cả</li>
                                <li class="dropdown-list-item">Cà phê phin</li>
                                <li class="dropdown-list-item">Phindi</li>
                                <li class="dropdown-list-item">Freeze</li>
                                <li class="dropdown-list-item">Trà</li>
                            </ul>
                        </li>
                        <li class="dropdown-bar2">
                            <div id="price-drop-text" class="dropdown-text">
                                <span id="price-span">Khoảng giá</span>
                                <i id="price-icon" class="fa-solid fa-chevron-down"></i>
                            </div>
                            <ul id="price-list" class="dropdown-list">
                                <li class="dropdown-list-item">Khoảng giá</li>
                                <li class="dropdown-list-item">Dưới 20k</li>
                                <li class="dropdown-list-item">20k - 50k</li>
                                <li class="dropdown-list-item">Trên 50k</li>
                            </ul>
                        </li>
                        <li class="search-box">
                            <input type="text" id="search-input" placeholder="Tìm kiếm..." required />
                            <button type="submit">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </li>
                    </ul>
                </form>
            </div>
            <div class="icon-item">
                <a href="../login-user/cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
                <div class="totalQuantity" id="cartQuantity">0</div>
            </div>
            <div class="icon-item">
                <a href="javascript:void(0);">
                    <i class="fa-solid fa-user"></i>
                    <ul class="dropdown-user">
                        <li><a href="">Đăng nhập</a></li>
                        <li><a href="">Đăng ký</a></li>
                    </ul>
                </a>
            </div>
        </div>
    </header>

    <!-- BREADCRUMB -->
    <section class="breadcrumb_section container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html">Trang chủ</a></li>
                <li class="breadcrumb-item active" aria-current="page"><strong>Giỏ hàng</strong></li>

            </ol>
        </nav>
    </section>

    <!-- CART  -->
    <section class="highlands__cart container">
        <div class="row highlands__cart__content">
            <div class="col-9 highlands__cart--orders">
                <h2>Giỏ hàng</h2>
                <div class="orders--items row">

                    <div class="orders--items-left col-2">
                        <div class="items--thumb">
                            <img src="../image/phin/phinsuada.png" alt="phinsuada">
                            <div class="product_qty">
                                <form id='myform' method='POST' class='quantity row m-0' action='#'>
                                    <button type="button" class="qtyminus minus" field='quantity'><i
                                            class="fas fa-minus"></i></button>
                                    <input name="quantity" type='text' id="qty" value="2" class="text-center qty">
                                    <button type="button" class="qtyplus plus" field='quantity'><i
                                            class="fas fa-plus"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hr"></div>
                <div class="orders__submit row">
                    <div class="col-6"><i class="fas fa-angle-left"></i>
                        <a style="color: black; text-decoration: none;" href="../login-user/menu/allmenu.html">Tiếp tục
                            chọn món </a>
                    </div>
                </div>
            </div>

            <div class="col-3 highlands__cart--contact">
                <div class="user--sevice">
                    <h3>Giao đến</h3>
                    <p class="thongtinnhan"> Nhóm 7 | 0907234598</p>
                    <p class="diachinhan"> 273 An Dương Vương, phường 3, quận 5, TP.HCM</p>
                </div>
                <hr>
                <div class="user--payment">
                    <h3>Thông tin đơn hàng</h3>
                    <div class="orders__submit--total col-6">
                        <p class="temp--money">Tạm tính: <span id="subtotal">0 VNĐ</span></p>
                        <p class="temp--money">Phí vận chuyển: <span>10,000 VNĐ</span></p>
                        <p class="into--money">Thành tiền: <span id="total">10,000 VNĐ</span></p>
                    </div>
                </div>
                <button class="total--pay"><a href="./payment.html"> Đặt hàng (<span
                            id="cartItemCount">0</span>)</a></button>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section about">
                <h2>Về Chúng Tôi</h2>
                <p>Chúng tôi cung cấp các loại đồ uống chất lượng, phục vụ với sự tận tâm và chuyên nghiệp.</p>
            </div>
            <div class="footer-section links">
                <h2>Liên Kết</h2>
                <ul>
                    <li><a href="#">Trang chủ</a></li>
                    <li><a href="#">Thực dơn</a></li>
                    <li><a href="#">Tin tức</a></li>
                    <li><a href="#">Giới thiệu</a></li>
                    <li><a href="#">Liên hệ</a></li>
                </ul>
            </div>
            <div class="footer-section social">
                <h2>Kết Nối Với Chúng Tôi</h2>
                <a href="https://web.facebook.com/highlandscoffeevietnam" target="_blank"><i
                        class="fa-brands fa-facebook"></i></a>
                <a href="https://www.instagram.com/highlandscoffeevietnam/" target="_blank"><i
                        class="fa-brands fa-instagram"></i></a>
                <a href="https://x.com/" target="_blank"><i class="fa-brands fa-twitter"></i></a>
            </div>
            <div class="footer-section members">
                <h2>Thành Viên</h2>
                <ul>
                    <li><a href="#">Lê Thị Thủy Tiên</a></li>
                    <li><a href="#">Võ Thị Thu Luyện</a></li>
                    <li><a href="#">Nguyễn Thị Ngọc Tú</a></li>
                    <li><a href="#">Trần Thị Xuân Thanh</a></li>
                    <li><a href="#">Nguyễn Huỳnh Yến Linh</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <hr>
            &copy; Highlands Coffee | Thiết kế bởi Nhóm A07
        </div>
    </footer>
    <!-- TOP -->
    <div id="scrollToTopBtn">
        <a href="#home"><i class="fa-solid fa-chevron-up"></i></a>
    </div>
    <script src="../js/nav.js"></script>
    <script src="../js/thongbao.js"></script>
    <script src="../js/chitietsp.js"></script>
    <!-- <script src="../js/totalprice.js"></script> -->
    <!-- BOOSTRAP JS  -->
    <script src="../../bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const scrollToTopBtn = document.getElementById("scrollToTopBtn");

        window.onscroll = function () {
            if (window.scrollY > 200) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        };

        scrollToTopBtn.addEventListener("click", function () {
            window.scrollTo({
                top: 0,
                behavior: "smooth",
            });
        });
    </script>

    <script>
        /* nav mav-menu khi thu nhỏ */
        document.querySelector('.toggle').addEventListener('click', function () {
            const navMenu = document.querySelector('.nav-menu');
            const faBars = document.querySelector('.fa-bars');
            const faXmark = document.querySelector('.fa-xmark');

            navMenu.classList.toggle('show');
            this.classList.toggle('active');

            if (this.classList.contains('active')) {
                faBars.style.opacity = '0';
                faXmark.style.opacity = '1';
            } else {
                faBars.style.opacity = '1';
                faXmark.style.opacity = '0';
            }
        });

        function setActiveMenu(menuItem) {
            document.querySelectorAll('.nav-menu li').forEach(item => {
                item.classList.remove('active');
            });
            menuItem.classList.add('active');
        }

        document.querySelectorAll('.nav-menu .dropdown > a').forEach(item => {
            item.addEventListener('click', function (event) {
                event.preventDefault();
                const subMenuId = item.nextElementSibling.id;
                toggleSubMenu(subMenuId);
            });
        });

        document.querySelectorAll('.nav-menu li a').forEach(item => {
            item.addEventListener('click', function () {
                setActiveMenu(item.parentElement);
            });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    const cartQuantityElement = document.getElementById("cartQuantity");

    // Lấy số lượng từ localStorage
    const cartQuantity = localStorage.getItem("cartQuantity");
    cartQuantityElement.textContent = cartQuantity || 0; // Hiển thị số lượng nếu có, ngược lại hiển thị 0
});
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    const cartContainer = document.querySelector(".orders--items");
    const cartQuantityElement = document.getElementById("cartQuantity");
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // Hàm cập nhật số lượng trên biểu tượng giỏ hàng
    function updateCartQuantity() {
        const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartQuantityElement.textContent = totalQuantity;
        localStorage.setItem("cartQuantity", totalQuantity);
    }

    // Hiển thị giỏ hàng
    function renderCart() {
        cartContainer.innerHTML = "";
        cart.forEach((item, index) => {
            cartContainer.innerHTML += `
                <div class="orders--items row">
                    <div class="col-4">
                        <h4>${item.name}</h4>
                        <p>Kích cỡ: ${item.size}</p>
                        <p>Giá: ${item.price}</p>
                    </div>
                    <div class="col-3">
                        <button class="qtyminus minus" data-index="${index}">-</button>
                        <input type="text" value="${item.quantity}" class="qty" disabled>
                        <button class="qtyplus plus" data-index="${index}">+</button>
                    </div>
                    <button class="remove-item" data-index="${index}">Xóa</button>
                </div>`;
        });
        updateCartQuantity();
    }

    // Xử lý sự kiện tăng/giảm/xóa sản phẩm
    cartContainer.addEventListener("click", function (event) {
        const index = parseInt(event.target.getAttribute("data-index"));
        if (event.target.classList.contains("qtyplus")) {
            cart[index].quantity++;
        } else if (event.target.classList.contains("qtyminus") && cart[index].quantity > 1) {
            cart[index].quantity--;
        } else if (event.target.classList.contains("remove-item")) {
            cart.splice(index, 1);
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
    });

    renderCart(); // Hiển thị ban đầu
});

    </script>

</body>

</html>